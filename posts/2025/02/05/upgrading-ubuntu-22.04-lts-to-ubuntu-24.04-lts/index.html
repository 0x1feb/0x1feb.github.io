<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする | 0x1feb</title><meta name=keywords content><meta name=description content="概要

Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする。

環境

Ubuntu 22.04 LTS

手順
バックアップ
最悪動かなくなる場合を想定し、必要なデータをバックアップする。
Ubuntu 22.04 LTS の最新化
現在のシステムを最新化する。"><meta name=author content="Me"><link rel=canonical href=https://0x1feb.github.io/posts/2025/02/05/upgrading-ubuntu-22.04-lts-to-ubuntu-24.04-lts/><link crossorigin=anonymous href=/assets/css/stylesheet.7d4eedc0535bd38fc2edb64bdccb38932496d8e2cec76138c48fae44ce327cfa.css integrity="sha256-fU7twFNb04/C7bZL3Ms4kySW2OLOx2E4xI+uRM4yfPo=" rel="preload stylesheet" as=style><link rel=icon href=https://0x1feb.github.io/img/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://0x1feb.github.io/img/favicon.svg><link rel=icon type=image/png sizes=32x32 href=https://0x1feb.github.io/img/favicon.svg><link rel=apple-touch-icon href=https://0x1feb.github.io/img/favicon.svg><link rel=mask-icon href=https://0x1feb.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://0x1feb.github.io/posts/2025/02/05/upgrading-ubuntu-22.04-lts-to-ubuntu-24.04-lts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://0x1feb.github.io/posts/2025/02/05/upgrading-ubuntu-22.04-lts-to-ubuntu-24.04-lts/"><meta property="og:site_name" content="0x1feb"><meta property="og:title" content="Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする"><meta property="og:description" content="概要 Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする。 環境 Ubuntu 22.04 LTS 手順 バックアップ 最悪動かなくなる場合を想定し、必要なデータをバックアップする。
Ubuntu 22.04 LTS の最新化 現在のシステムを最新化する。"><meta property="og:locale" content="ja"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-05T21:09:53+09:00"><meta property="article:modified_time" content="2025-02-05T21:09:53+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする"><meta name=twitter:description content="概要

Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする。

環境

Ubuntu 22.04 LTS

手順
バックアップ
最悪動かなくなる場合を想定し、必要なデータをバックアップする。
Ubuntu 22.04 LTS の最新化
現在のシステムを最新化する。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://0x1feb.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする","item":"https://0x1feb.github.io/posts/2025/02/05/upgrading-ubuntu-22.04-lts-to-ubuntu-24.04-lts/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする","name":"Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする","description":"概要 Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする。 環境 Ubuntu 22.04 LTS 手順 バックアップ 最悪動かなくなる場合を想定し、必要なデータをバックアップする。\nUbuntu 22.04 LTS の最新化 現在のシステムを最新化する。\n","keywords":[""],"articleBody":"概要 Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする。 環境 Ubuntu 22.04 LTS 手順 バックアップ 最悪動かなくなる場合を想定し、必要なデータをバックアップする。\nUbuntu 22.04 LTS の最新化 現在のシステムを最新化する。\nsudo apt update \u0026\u0026 sudo apt upgrade -y sudo apt full-upgrade -y 不要なパッケージ及びキャッシュを削除する。\nsudo apt autoremove -y \u0026\u0026 sudo apt clean 再起動する。\nsudo reboot Ubuntu 24.04 LTS への更新 SSH 接続で実施する場合 SSH 接続で更新作業を実施する場合、1022 ポートを開放しておく。\nアップグレード中に障害が起きたとき、1022 ポートでもう 1 つの sshd が実行される。このとき、1022 ポートで SSH 接続できるようにしておく。\nsudo ufw allow 1022/tcp 可能であれば、SSH ではなく直接端末に接続して実施することが望ましい。\nアップグレードツールのインストール デフォルトでインストールされているが、念のためアップグレードツールをインストールする。\nsudo apt install ubuntu-release-upgrader-core -y LTS リリースのアップグレードを有効化 Prompt の値を確認する。\ncat /etc/update-manager/release-upgrades | grep Prompt= lts となっていることを確認する。なっていない場合は、lts に更新する。\nPrompt=lts アップグレード 以下コマンドを実行し、アップグレードする。\nsudo do-release-upgrade Ubuntu 24.04 LTS の情報が表示されることを確認する。\nChecking for a new Ubuntu release = Welcome to Ubuntu 24.04 LTS 'Noble Numbat' = The Ubuntu team is proud to announce Ubuntu 24.04 LTS 'Noble Numbat'. To see what's new in this release, visit: https://wiki.ubuntu.com/NobleNumbat/ReleaseNotes Ubuntu is a Linux distribution for your desktop or server, with a fast and easy install, regular releases, a tight selection of excellent applications installed by default, and almost any other software you can imagine available through the network. We hope you enjoy Ubuntu. == Feedback and Helping == If you would like to help shape Ubuntu, take a look at the list of ways you can participate at http://www.ubuntu.com/community/participate/ Your comments, bug reports, patches and suggestions will help ensure that our next release is the best release of Ubuntu ever. If you feel that you have found a bug please read: http://help.ubuntu.com/community/ReportingBugs Then report bugs using apport in Ubuntu. For example: ubuntu-bug linux will open a bug report in Launchpad regarding the linux package. If you have a question, or if you think you may have found a bug but aren't sure, first try asking on the #ubuntu or #ubuntu-bugs IRC channels on Libera.Chat, on the Ubuntu Users mailing list, or on the Ubuntu forums: http://help.ubuntu.com/community/InternetRelayChat http://lists.ubuntu.com/mailman/listinfo/ubuntu-users http://www.ubuntuforums.org/ == More Information == You can find out more about Ubuntu on our website, IRC channel and wiki. If you're new to Ubuntu, please visit: http://www.ubuntu.com/ To sign up for future Ubuntu announcements, please subscribe to Ubuntu's very low volume announcement list at: http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce Continue [yN] Continue [yN] と表示されるため、y を入力する。\nSSH 接続で続けるかの確認が表示される。続ける場合、1022 ポートで追加の sshd を開始する。\nReading cache Checking package manager Continue running under SSH? This session appears to be running under ssh. It is not recommended to perform a upgrade over ssh currently because in case of failure it is harder to recover. If you continue, an additional ssh daemon will be started at port '1022'. Do you want to continue? Continue [yN] Continue [yN] と表示されるため、y を入力する。\n失敗時には 1022 ポートで sshd を開始するため、ファイアウォールを許可するようにとの説明が表示される。\nStarting additional sshd To make recovery in case of failure easier, an additional sshd will be started on port '1022'. If anything goes wrong with the running ssh you can still connect to the additional one. If you run a firewall, you may need to temporarily open this port. As this is potentially dangerous it's not done automatically. You can open the port with e.g.: 'iptables -I INPUT -p tcp --dport 1022 -j ACCEPT' To continue please press [ENTER] To continue please press [ENTER] と表示されるため、Enter キーを押すと、アップグレード処理が始まる。\n途中でパッケージのインストールや削除の確認が表示される。\nDo you want to start the upgrade? 53 packages are going to be removed. 170 new packages are going to be installed. 652 packages are going to be upgraded. You have to download a total of 1,160 M. This download will take about 3 minutes with a 40Mbit connection and about 30 minutes with a 5Mbit connection. Fetching and installing the upgrade can take several hours. Once the download has finished, the process cannot be canceled. Continue [yN] Details [d] Continue [yN] Details [d] と表示されるため、y を入力する。\n途中でキーボードレイアウトを聞かれるため、使用するレイアウトを選択する。\ncrontab の設定変更に関して聞かれる。\nConfiguration file '/etc/crontab' ==\u003e Modified (by you or by a script) since installation. ==\u003e Package distributor has shipped an updated version. What would you like to do about it ? Your options are: Y or I : install the package maintainer's version N or O : keep your currently-installed version D : show the differences between the versions Z : start a shell to examine the situation The default action is to keep your current version. *** crontab (Y/I/N/O/D/Z) [default=N] ? crontab (Y/I/N/O/D/Z) [default=N] ? と表示されるため、D を入力する。\n更新内容の差分が表示される。\n更新を反映する場合は、 Y を入力する。更新を反映しない場合は、N を入力する。独自にカスタマイズしていた場合は、N としておいて後で判断した方が安全である。\n同様に、他サービスの設定も更新される場合は似たような選択肢が表示される。基本的に、独自カスタマイズした設定は現行維持にしておく。\n古いパッケージを削除するか聞かれる。\nRemove obsolete packages? 120 packages are going to be removed. Removing the packages can take several hours. Continue [yN] Details [d] Continue [yN] Details [d] と表示されるため、y を入力する。\nSystem upgrade is complete. と表示されたら、アップグレード完了となる。\nSystem upgrade is complete. Restart required To finish the upgrade, a restart is required. If you select 'y' the system will be restarted. Continue [yN] 最後に再起動が必要であり、Continue [yN] と表示されるため、y を入力する。直ぐに再起動しない場合は N を入力する。\nバージョン確認 以下のコマンドを実行し、バージョンを確認する。\nlsb_release -a Ubuntu 24.04.1 LTS になっていることを確認する。\nNo LSB modules are available. Distributor ID: Ubuntu Description: Ubuntu 24.04.1 LTS Release: 24.04 Codename: noble 参考 How to upgrade your Ubuntu release - Ubuntu Server documentation ","wordCount":"1696","inLanguage":"en","datePublished":"2025-02-05T21:09:53+09:00","dateModified":"2025-02-05T21:09:53+09:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://0x1feb.github.io/posts/2025/02/05/upgrading-ubuntu-22.04-lts-to-ubuntu-24.04-lts/"},"publisher":{"@type":"Organization","name":"0x1feb","logo":{"@type":"ImageObject","url":"https://0x1feb.github.io/img/favicon.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://0x1feb.github.io/ accesskey=h title="0x1feb (Alt + H)">0x1feb</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://0x1feb.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://0x1feb.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://0x1feb.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://0x1feb.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://0x1feb.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://0x1feb.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする</h1><div class=post-meta><span title='2025-02-05 21:09:53 +0900 +0900'>2025-02-05</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/0x1feb/0x1feb-blog/blob/main/content/posts/2025/02/05/index.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e6%a6%82%e8%a6%81 aria-label=概要>概要</a></li><li><a href=#%e7%92%b0%e5%a2%83 aria-label=環境>環境</a></li><li><a href=#%e6%89%8b%e9%a0%86 aria-label=手順>手順</a><ul><li><a href=#%e3%83%90%e3%83%83%e3%82%af%e3%82%a2%e3%83%83%e3%83%97 aria-label=バックアップ>バックアップ</a></li><li><a href=#ubuntu-2204-lts-%e3%81%ae%e6%9c%80%e6%96%b0%e5%8c%96 aria-label="Ubuntu 22.04 LTS の最新化">Ubuntu 22.04 LTS の最新化</a></li><li><a href=#ubuntu-2404-lts-%e3%81%b8%e3%81%ae%e6%9b%b4%e6%96%b0 aria-label="Ubuntu 24.04 LTS への更新">Ubuntu 24.04 LTS への更新</a><ul><li><a href=#ssh-%e6%8e%a5%e7%b6%9a%e3%81%a7%e5%ae%9f%e6%96%bd%e3%81%99%e3%82%8b%e5%a0%b4%e5%90%88 aria-label="SSH 接続で実施する場合">SSH 接続で実施する場合</a></li><li><a href=#%e3%82%a2%e3%83%83%e3%83%97%e3%82%b0%e3%83%ac%e3%83%bc%e3%83%89%e3%83%84%e3%83%bc%e3%83%ab%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab aria-label=アップグレードツールのインストール>アップグレードツールのインストール</a></li><li><a href=#lts-%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%81%ae%e3%82%a2%e3%83%83%e3%83%97%e3%82%b0%e3%83%ac%e3%83%bc%e3%83%89%e3%82%92%e6%9c%89%e5%8a%b9%e5%8c%96 aria-label="LTS リリースのアップグレードを有効化">LTS リリースのアップグレードを有効化</a></li><li><a href=#%e3%82%a2%e3%83%83%e3%83%97%e3%82%b0%e3%83%ac%e3%83%bc%e3%83%89 aria-label=アップグレード>アップグレード</a></li><li><a href=#%e3%83%90%e3%83%bc%e3%82%b8%e3%83%a7%e3%83%b3%e7%a2%ba%e8%aa%8d aria-label=バージョン確認>バージョン確認</a></li></ul></li></ul></li><li><a href=#%e5%8f%82%e8%80%83 aria-label=参考>参考</a></li></ul></div></details></div><div class=post-content><h2 id=概要>概要<a hidden class=anchor aria-hidden=true href=#概要>#</a></h2><ul><li>Ubuntu 22.04 LTS を Ubuntu 24.04 LTS にアップグレードする。</li></ul><h2 id=環境>環境<a hidden class=anchor aria-hidden=true href=#環境>#</a></h2><ul><li>Ubuntu 22.04 LTS</li></ul><h2 id=手順>手順<a hidden class=anchor aria-hidden=true href=#手順>#</a></h2><h3 id=バックアップ>バックアップ<a hidden class=anchor aria-hidden=true href=#バックアップ>#</a></h3><p>最悪動かなくなる場合を想定し、必要なデータをバックアップする。</p><h3 id=ubuntu-2204-lts-の最新化>Ubuntu 22.04 LTS の最新化<a hidden class=anchor aria-hidden=true href=#ubuntu-2204-lts-の最新化>#</a></h3><p>現在のシステムを最新化する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt upgrade -y
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt full-upgrade -y
</span></span></code></pre></div><p>不要なパッケージ及びキャッシュを削除する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt autoremove -y <span style=color:#f92672>&amp;&amp;</span> sudo apt clean
</span></span></code></pre></div><p>再起動する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo reboot
</span></span></code></pre></div><h3 id=ubuntu-2404-lts-への更新>Ubuntu 24.04 LTS への更新<a hidden class=anchor aria-hidden=true href=#ubuntu-2404-lts-への更新>#</a></h3><h4 id=ssh-接続で実施する場合>SSH 接続で実施する場合<a hidden class=anchor aria-hidden=true href=#ssh-接続で実施する場合>#</a></h4><p>SSH 接続で更新作業を実施する場合、1022 ポートを開放しておく。</p><p>アップグレード中に障害が起きたとき、1022 ポートでもう 1 つの sshd が実行される。このとき、1022 ポートで SSH 接続できるようにしておく。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ufw allow 1022/tcp
</span></span></code></pre></div><p>可能であれば、SSH ではなく直接端末に接続して実施することが望ましい。</p><h4 id=アップグレードツールのインストール>アップグレードツールのインストール<a hidden class=anchor aria-hidden=true href=#アップグレードツールのインストール>#</a></h4><p>デフォルトでインストールされているが、念のためアップグレードツールをインストールする。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install ubuntu-release-upgrader-core -y
</span></span></code></pre></div><h4 id=lts-リリースのアップグレードを有効化>LTS リリースのアップグレードを有効化<a hidden class=anchor aria-hidden=true href=#lts-リリースのアップグレードを有効化>#</a></h4><p><code>Prompt</code> の値を確認する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat /etc/update-manager/release-upgrades | grep Prompt<span style=color:#f92672>=</span>
</span></span></code></pre></div><p><code>lts</code> となっていることを確認する。なっていない場合は、<code>lts</code> に更新する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>Prompt=lts
</span></span></code></pre></div><h4 id=アップグレード>アップグレード<a hidden class=anchor aria-hidden=true href=#アップグレード>#</a></h4><p>以下コマンドを実行し、アップグレードする。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo <span style=color:#66d9ef>do</span>-release-upgrade
</span></span></code></pre></div><p>Ubuntu 24.04 LTS の情報が表示されることを確認する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Checking for a new Ubuntu release
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>= Welcome to Ubuntu 24.04 LTS &#39;Noble Numbat&#39; =
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>The Ubuntu team is proud to announce Ubuntu 24.04 LTS &#39;Noble Numbat&#39;.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>To see what&#39;s new in this release, visit:
</span></span><span style=display:flex><span>  https://wiki.ubuntu.com/NobleNumbat/ReleaseNotes
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Ubuntu is a Linux distribution for your desktop or server, with a fast
</span></span><span style=display:flex><span>and easy install, regular releases, a tight selection of excellent
</span></span><span style=display:flex><span>applications installed by default, and almost any other software you
</span></span><span style=display:flex><span>can imagine available through the network.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>We hope you enjoy Ubuntu.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>== Feedback and Helping ==
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>If you would like to help shape Ubuntu, take a look at the list of
</span></span><span style=display:flex><span>ways you can participate at
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>  http://www.ubuntu.com/community/participate/
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Your comments, bug reports, patches and suggestions will help ensure
</span></span><span style=display:flex><span>that our next release is the best release of Ubuntu ever.  If you feel
</span></span><span style=display:flex><span>that you have found a bug please read:
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>  http://help.ubuntu.com/community/ReportingBugs
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Then report bugs using apport in Ubuntu.  For example:
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>  ubuntu-bug linux
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>will open a bug report in Launchpad regarding the linux package.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>If you have a question, or if you think you may have found a bug but
</span></span><span style=display:flex><span>aren&#39;t sure, first try asking on the #ubuntu or #ubuntu-bugs IRC
</span></span><span style=display:flex><span>channels on Libera.Chat, on the Ubuntu Users mailing list, or on the
</span></span><span style=display:flex><span>Ubuntu forums:
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>  http://help.ubuntu.com/community/InternetRelayChat
</span></span><span style=display:flex><span>  http://lists.ubuntu.com/mailman/listinfo/ubuntu-users
</span></span><span style=display:flex><span>  http://www.ubuntuforums.org/
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>== More Information ==
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>You can find out more about Ubuntu on our website, IRC channel and wiki.
</span></span><span style=display:flex><span>If you&#39;re new to Ubuntu, please visit:
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>  http://www.ubuntu.com/
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>To sign up for future Ubuntu announcements, please subscribe to Ubuntu&#39;s
</span></span><span style=display:flex><span>very low volume announcement list at:
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>  http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Continue [yN]
</span></span></code></pre></div><p><code>Continue [yN]</code> と表示されるため、<code>y</code> を入力する。</p><p>SSH 接続で続けるかの確認が表示される。続ける場合、1022 ポートで追加の sshd を開始する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Reading cache
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Checking package manager
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Continue running under SSH?
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>This session appears to be running under ssh. It is not recommended
</span></span><span style=display:flex><span>to perform a upgrade over ssh currently because in case of failure it
</span></span><span style=display:flex><span>is harder to recover.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>If you continue, an additional ssh daemon will be started at port
</span></span><span style=display:flex><span>&#39;1022&#39;.
</span></span><span style=display:flex><span>Do you want to continue?
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Continue [yN]
</span></span></code></pre></div><p><code>Continue [yN]</code> と表示されるため、<code>y</code> を入力する。</p><p>失敗時には 1022 ポートで sshd を開始するため、ファイアウォールを許可するようにとの説明が表示される。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Starting additional sshd
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>To make recovery in case of failure easier, an additional sshd will
</span></span><span style=display:flex><span>be started on port &#39;1022&#39;. If anything goes wrong with the running
</span></span><span style=display:flex><span>ssh you can still connect to the additional one.
</span></span><span style=display:flex><span>If you run a firewall, you may need to temporarily open this port. As
</span></span><span style=display:flex><span>this is potentially dangerous it&#39;s not done automatically. You can
</span></span><span style=display:flex><span>open the port with e.g.:
</span></span><span style=display:flex><span>&#39;iptables -I INPUT -p tcp --dport 1022 -j ACCEPT&#39;
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>To continue please press [ENTER]
</span></span></code></pre></div><p><code>To continue please press [ENTER]</code> と表示されるため、Enter キーを押すと、アップグレード処理が始まる。</p><p>途中でパッケージのインストールや削除の確認が表示される。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Do you want to start the upgrade?
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>53 packages are going to be removed. 170 new packages are going to be
</span></span><span style=display:flex><span>installed. 652 packages are going to be upgraded.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>You have to download a total of 1,160 M. This download will take
</span></span><span style=display:flex><span>about 3 minutes with a 40Mbit connection and about 30 minutes with a
</span></span><span style=display:flex><span>5Mbit connection.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Fetching and installing the upgrade can take several hours. Once the
</span></span><span style=display:flex><span>download has finished, the process cannot be canceled.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> Continue [yN]  Details [d]
</span></span></code></pre></div><p><code>Continue [yN] Details [d]</code> と表示されるため、<code>y</code> を入力する。</p><p>途中でキーボードレイアウトを聞かれるため、使用するレイアウトを選択する。</p><p><code>crontab</code> の設定変更に関して聞かれる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Configuration file &#39;/etc/crontab&#39;
</span></span><span style=display:flex><span> ==&gt; Modified (by you or by a script) since installation.
</span></span><span style=display:flex><span> ==&gt; Package distributor has shipped an updated version.
</span></span><span style=display:flex><span>   What would you like to do about it ?  Your options are:
</span></span><span style=display:flex><span>    Y or I  : install the package maintainer&#39;s version
</span></span><span style=display:flex><span>    N or O  : keep your currently-installed version
</span></span><span style=display:flex><span>      D     : show the differences between the versions
</span></span><span style=display:flex><span>      Z     : start a shell to examine the situation
</span></span><span style=display:flex><span> The default action is to keep your current version.
</span></span><span style=display:flex><span>*** crontab (Y/I/N/O/D/Z) [default=N] ?
</span></span></code></pre></div><p><code>crontab (Y/I/N/O/D/Z) [default=N] ?</code> と表示されるため、<code>D</code> を入力する。</p><p>更新内容の差分が表示される。</p><p>更新を反映する場合は、 <code>Y</code> を入力する。更新を反映しない場合は、<code>N</code> を入力する。独自にカスタマイズしていた場合は、<code>N</code> としておいて後で判断した方が安全である。</p><p>同様に、他サービスの設定も更新される場合は似たような選択肢が表示される。基本的に、独自カスタマイズした設定は現行維持にしておく。</p><p>古いパッケージを削除するか聞かれる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Remove obsolete packages?
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>120 packages are going to be removed.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>Removing the packages can take several hours.
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span> Continue [yN]  Details [d]
</span></span></code></pre></div><p><code>Continue [yN] Details [d]</code> と表示されるため、<code>y</code> を入力する。</p><p><code>System upgrade is complete.</code> と表示されたら、アップグレード完了となる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>System upgrade is complete.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Restart required
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>To finish the upgrade, a restart is required.
</span></span><span style=display:flex><span>If you <span style=color:#66d9ef>select</span> <span style=color:#e6db74>&#39;y&#39;</span> the system will be restarted.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Continue <span style=color:#f92672>[</span>yN<span style=color:#f92672>]</span>
</span></span></code></pre></div><p>最後に再起動が必要であり、<code>Continue [yN]</code> と表示されるため、<code>y</code> を入力する。直ぐに再起動しない場合は <code>N</code> を入力する。</p><h4 id=バージョン確認>バージョン確認<a hidden class=anchor aria-hidden=true href=#バージョン確認>#</a></h4><p>以下のコマンドを実行し、バージョンを確認する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lsb_release -a
</span></span></code></pre></div><p>Ubuntu 24.04.1 LTS になっていることを確認する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>No LSB modules are available.
</span></span><span style=display:flex><span>Distributor ID: Ubuntu
</span></span><span style=display:flex><span>Description:    Ubuntu 24.04.1 LTS
</span></span><span style=display:flex><span>Release:        24.04
</span></span><span style=display:flex><span>Codename:       noble
</span></span></code></pre></div><h2 id=参考>参考<a hidden class=anchor aria-hidden=true href=#参考>#</a></h2><ul><li><a href=https://documentation.ubuntu.com/server/how-to/software/upgrade-your-release/>How to upgrade your Ubuntu release - Ubuntu Server documentation</a></li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://0x1feb.github.io/posts/2025/02/06/keep-podman-container-running-after-ssh-disconnect/><span class=title>« Prev</span><br><span>SSH 接続で起動した Podman のコンテナを SSH 切断後も停止しないようにする</span>
</a><a class=next href=https://0x1feb.github.io/posts/2025/02/04/installing-podman-on-ubuntu-server-22.04-lts/><span class=title>Next »</span><br><span>Ubuntu Server 22.04 LTS に Podman をインストールする</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://0x1feb.github.io/>0x1feb</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>